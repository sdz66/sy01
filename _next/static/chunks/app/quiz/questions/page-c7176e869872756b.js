(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[704],{5533:function(e,t,s){Promise.resolve().then(s.bind(s,5799))},5799:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var a=s(7437),n=s(2265),r=s(251),i=s(9077),l=s(1396),o=s.n(l),c=s(6691),d=s.n(c),u=s(3378),f=s(6357),x=s(9981),m=s(6369),h=s(2703);let p=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(x.fC,{className:(0,h.cn)("grid gap-2",s),...n,ref:t})});p.displayName=x.fC.displayName;let g=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(x.ck,{ref:t,className:(0,h.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...n,children:(0,a.jsx)(x.z$,{className:"flex items-center justify-center",children:(0,a.jsx)(m.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});g.displayName=x.ck.displayName;var j=s(6353),N=s(3067),v=s(4457);let b=async()=>{let e=await fetch("/data/questions.json");if(!e.ok)throw Error("Failed to fetch questions");return e.json()};function y(){let{t:e,i18n:t}=(0,r.$G)(),{data:s,isLoading:l,error:c}=(0,i.useQuery)("questions",b),[x,m]=(0,n.useState)({}),[h,y]=(0,n.useState)(!1),[w,k]=(0,n.useState)(0),q=t.language;if(l)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"加载中..."});if(c)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center text-red-500",children:"加载失败"});let z=(e,t)=>{m(s=>({...s,[e]:t}));let a=null==s?void 0:s.questions.findIndex(t=>t.id===e);if(void 0!==a&&a>=0&&(null==s?void 0:s.questions[a+1])){let e=s.questions[a+1];setTimeout(()=>{let t=document.getElementById("question-".concat(e.id));t&&t.scrollIntoView({behavior:"smooth",block:"start"})},300)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-purple-50",children:[(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,a.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50 bg-white shadow-md",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-4 flex items-center justify-between gap-4 h-24",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(o(),{href:"/quiz",children:(0,a.jsx)(u.z,{variant:"ghost",className:"w-10 h-10 rounded-full bg-pink-100 hover:bg-pink-200 text-pink-700 p-0",children:(0,a.jsx)(N.Z,{className:"w-5 h-5"})})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:e("quiz.title")})]}),(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-16 h-16 bg-white rounded-xl overflow-hidden shadow-md flex items-center justify-center p-2",children:(0,a.jsx)(d(),{src:"/images/pk.png",alt:"Logo",width:64,height:64,className:"w-full h-full object-contain"})})})]})}),(0,a.jsx)("div",{className:"h-24"}),(0,a.jsx)("div",{className:"space-y-6",children:null==s?void 0:s.questions.map(e=>(0,a.jsxs)(f.Zb,{id:"question-".concat(e.id),className:"border-pink-200",children:[(0,a.jsx)(f.Ol,{className:"bg-gradient-to-r from-pink-50 to-pink-100",children:(0,a.jsxs)(f.ll,{className:"text-xl",children:[e.id,". ",e.question[q]]})}),(0,a.jsxs)(f.aY,{className:"pt-6",children:["choice"===e.type&&e.options&&(0,a.jsx)(p,{value:x[e.id]||"",onValueChange:t=>z(e.id,t),children:e.options.map((t,s)=>(0,a.jsxs)("div",{className:"flex items-start space-x-2 p-3 rounded hover:bg-pink-50",children:[(0,a.jsx)(g,{value:String(s),id:"q".concat(e.id,"-").concat(s),className:"mt-1"}),(0,a.jsx)("label",{htmlFor:"q".concat(e.id,"-").concat(s),className:"cursor-pointer flex-1",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[t.image&&(0,a.jsx)("div",{className:"mb-2 w-full max-w-xs",children:(0,a.jsx)(d(),{src:t.image,alt:t[q],width:400,height:300,className:"max-h-32 object-contain rounded"})}),(0,a.jsx)("span",{className:"text-center",children:t[q]})]})})]},s))}),"judge"===e.type&&(0,a.jsxs)(p,{value:x[e.id]||"",onValueChange:t=>z(e.id,t),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-3 rounded hover:bg-pink-50",children:[(0,a.jsx)(g,{value:"true",id:"q".concat(e.id,"-true")}),(0,a.jsx)("label",{htmlFor:"q".concat(e.id,"-true"),className:"cursor-pointer flex-1",children:"zh"===q?"正确":"en"===q?"True":"Vrai"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-3 rounded hover:bg-pink-50",children:[(0,a.jsx)(g,{value:"false",id:"q".concat(e.id,"-false")}),(0,a.jsx)("label",{htmlFor:"q".concat(e.id,"-false"),className:"cursor-pointer flex-1",children:"zh"===q?"错误":"en"===q?"False":"Faux"})]})]})]})]},e.id))}),(0,a.jsx)("div",{className:"flex justify-center mt-8",children:(0,a.jsx)(u.z,{className:"bg-pink-600 hover:bg-pink-700 text-white text-lg px-12 py-6",onClick:()=>{let e=0;null==s||s.questions.forEach(t=>{if("choice"===t.type){let s=parseInt(x[t.id]||"-1");s===t.answer&&e++}else if("judge"===t.type){let s="true"===x[t.id];s===t.answer&&e++}}),k(e),y(!0)},children:e("quiz.submit")})})]}),(0,a.jsx)(j.Vq,{open:h,onOpenChange:y,children:(0,a.jsxs)(j.cZ,{className:"max-w-md",children:[(0,a.jsxs)(j.fK,{children:[(0,a.jsx)(j.$N,{className:"text-2xl text-center",children:"zh"===q?"答题结果":"en"===q?"Quiz Result":"R\xe9sultat du quiz"}),(0,a.jsxs)(j.Be,{className:"text-center text-xl text-gray-800 mt-4",children:[w," / ",null==s?void 0:s.questions.length]})]}),(0,a.jsx)("div",{className:"text-center text-lg text-gray-600 mt-4",children:"zh"===q?"恭喜！您答对了 ".concat(w," 题！"):"en"===q?"Congratulations! You got ".concat(w," correct!"):"F\xe9licitations! Vous avez eu ".concat(w," bonnes r\xe9ponses!")})]})}),(0,a.jsx)("div",{className:"h-24"}),(0,a.jsx)(v.L,{})]})}},4457:function(e,t,s){"use strict";s.d(t,{L:function(){return f}});var a=s(7437),n=s(2265),r=s(1396),i=s.n(r),l=s(4033),o=s(2046),c=s(5355),d=s(6142),u=s(7480);function f(){let e=(0,l.usePathname)(),[t,s]=(0,n.useState)(null),r=[{id:"home",label:"首页",icon:(0,a.jsx)(u.Z,{className:"w-6 h-6"}),href:"/"},{id:"knowledge",label:"知识",icon:(0,a.jsx)(o.Z,{className:"w-6 h-6"}),href:"/knowledge"},{id:"quiz",label:"问答",icon:(0,a.jsx)(c.Z,{className:"w-6 h-6"}),href:"/quiz"},{id:"map",label:"地图",icon:(0,a.jsx)(d.Z,{className:"w-6 h-6"}),href:"/map"}],f=t=>"/"===t?"/"===e:e.startsWith(t);return(0,a.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-xl border-t border-gray-200 shadow-lg z-50 pb-safe",children:(0,a.jsx)("div",{className:"flex items-center justify-around py-2 px-4",children:r.map(e=>{let n=f(e.href),r=t===e.id;return(0,a.jsxs)(i(),{href:e.href,className:"flex flex-col items-center gap-1 py-2 px-4 rounded-2xl transition-all duration-300",onMouseEnter:()=>s(e.id),onMouseLeave:()=>s(null),onTouchStart:()=>s(e.id),onTouchEnd:()=>s(null),children:[(0,a.jsx)("div",{className:"transition-all duration-300 ".concat(n||r?"text-blue-600 scale-125":"text-gray-500"),children:e.icon}),(0,a.jsx)("span",{className:"text-xs font-medium transition-all duration-300 ".concat(n||r?"text-blue-600 opacity-100":"text-gray-500 opacity-0"),children:e.label})]},e.id)})})})}},3378:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var a=s(7437),n=s(2265),r=s(7256),i=s(6061),l=s(2703);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:s,variant:n,size:i,asChild:c=!1,...d}=e,u=c?r.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:n,size:i,className:s})),ref:t,...d})});c.displayName="Button"},6357:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var a=s(7437),n=s(2265),r=s(2703);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...n})});l.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,r.cn)("font-semibold leading-none tracking-tight",s),...n})});o.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",s),...n})});d.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",s),...n})});u.displayName="CardFooter"},6353:function(e,t,s){"use strict";s.d(t,{$N:function(){return x},Be:function(){return m},Vq:function(){return o},cZ:function(){return u},fK:function(){return f}});var a=s(7437),n=s(2265),r=s(1069),i=s(2549),l=s(2703);let o=r.fC;r.xz;let c=r.h_;r.x8;let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n})});d.displayName=r.aV.displayName;let u=n.forwardRef((e,t)=>{let{className:s,children:n,...o}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{}),(0,a.jsxs)(r.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...o,children:[n,(0,a.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=r.VY.displayName;let f=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};f.displayName="DialogHeader";let x=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",s),...n})});x.displayName=r.Dx.displayName;let m=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...n})});m.displayName=r.dk.displayName},2703:function(e,t,s){"use strict";s.d(t,{cn:function(){return r}});var a=s(7042),n=s(4769);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,a.W)(t))}}},function(e){e.O(0,[304,37,271,433,77,160,633,147,971,596,744],function(){return e(e.s=5533)}),_N_E=e.O()}]);