(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[883],{3067:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var r=a(5531);/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2046:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var r=a(5531);/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r.Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},7480:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var r=a(5531);/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},6142:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var r=a(5531);/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},1799:function(e,t,a){Promise.resolve().then(a.bind(a,2598))},2598:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var r=a(7437),s=a(2265),n=a(251),i=a(9077),l=a(4033),o=a(1396),d=a.n(o),c=a(6691),h=a.n(c),u=a(3378),m=a(3067),x=a(4457);let f=async()=>{let e=await fetch("/data/maps.json");if(!e.ok)throw Error("Failed to fetch maps");return e.json()};function g(){let{t:e,i18n:t}=(0,n.$G)(),{data:a,isLoading:o,error:c}=(0,i.useQuery)("maps",f),g=(0,l.useRouter)(),[v,p]=(0,s.useState)(null),[b,j]=(0,s.useState)(!1),w=t.language;if(o)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"加载中..."});if(c)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center text-red-500",children:"加载失败"});let y=e=>{p(v===e?null:e)};return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-teal-50",children:[(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-4",children:[(0,r.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50 bg-white shadow-md",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-4 flex items-center justify-between gap-4 h-24",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(d(),{href:"/catalog",children:(0,r.jsx)(u.z,{variant:"ghost",className:"w-10 h-10 rounded-full bg-green-100 hover:bg-green-200 text-green-700 p-0",children:(0,r.jsx)(m.Z,{className:"w-5 h-5"})})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:e("map.title")})]}),(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-16 h-16 bg-white rounded-xl overflow-hidden shadow-md flex items-center justify-center p-2",children:(0,r.jsx)(h(),{src:"/images/ditu.png",alt:"Logo",width:64,height:64,className:"w-full h-full object-contain"})})})]})}),(0,r.jsx)("div",{className:"h-24"}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("div",{className:"flex flex-col gap-4 relative z-10 max-w-md mx-auto",children:null==a?void 0:a.maps.map((e,t)=>(0,r.jsx)("div",{className:"relative ".concat(t>0?"mt-[-60px]":""),children:(0,r.jsx)("div",{className:"relative cursor-pointer transition-all duration-500 ease-in-out rounded-3xl overflow-hidden ".concat(v===e.id?"scale-110 z-30 shadow-2xl rotate-0":"z-".concat(t+1," hover:-translate-y-2 hover:rotate-1 ").concat(0===t?"shadow-orange-200":1===t?"shadow-red-200":2===t?"shadow-blue-200":"shadow-green-200")),onClick:()=>y(e.id),style:{transformOrigin:"center",rotate:v===e.id?"0deg":"".concat(-1*t,"deg")},children:(0,r.jsxs)("div",{className:"bg-white rounded-3xl overflow-hidden p-4 h-36 relative",children:[(0,r.jsxs)("div",{className:"h-full flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-28 h-28 bg-gray-100 rounded-xl overflow-hidden flex items-center justify-start p-2 shadow-sm",children:(0,r.jsx)(h(),{src:e.image,alt:e.title[w],width:100,height:130,className:"object-contain"})}),(0,r.jsx)("div",{className:"flex-1 ml-4 flex items-center justify-end",children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 max-w-[60%] text-right leading-tight tracking-wide",children:e.title[w]})})]}),v===e.id&&!b&&(0,r.jsx)("div",{className:"absolute bottom-4 right-4",children:(0,r.jsx)(u.z,{className:"rounded-full px-4 py-2 text-sm font-medium shadow-sm ".concat(0===t?"bg-orange-400 hover:bg-orange-500":1===t?"bg-red-400 hover:bg-red-500":2===t?"bg-blue-400 hover:bg-blue-500":"bg-green-400 hover:bg-green-500"," text-white"),onClick:()=>{console.log("跳转到视频播放页: ".concat(e.title[w])),g.push("/map/video?mapId=".concat(e.id))},children:"zh"===w?"立即探索":"en"===w?"Explore Now":"Explorer maintenant"})})]})})},e.id))})}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)("div",{className:"rounded-2xl border border-gray-200 bg-gradient-to-br from-gray-50 to-gray-100 p-4 opacity-70 cursor-not-allowed",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-20 h-20 bg-white rounded-2xl p-3 shadow-sm flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-gray-400",children:"+"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-gray-500 mb-1",children:"更多"}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"等待探索"})]})]})})}),(0,r.jsxs)("div",{className:"mt-8 text-center",children:[(0,r.jsx)("p",{className:"text-gray-700 mb-4 text-lg font-medium leading-relaxed",children:"zh"===w?"不知道选什么？随机抽一张！":"en"===w?"Not sure what to choose? Random pick!":"Pas s\xfbr de quoi choisir ? S\xe9lection al\xe9atoire !"}),(0,r.jsx)(u.z,{className:"bg-orange-400 hover:bg-orange-500 text-white rounded-full px-6 py-3 text-sm font-medium shadow-sm",onClick:()=>{if((null==a?void 0:a.maps.length)&&!b){j(!0);let e=0,t=setInterval(()=>{let r=Math.floor(Math.random()*a.maps.length),s=a.maps[r].id;p(s),++e>=8&&(clearInterval(t),setTimeout(()=>{let e=Math.floor(Math.random()*a.maps.length),t=a.maps[e].id;p(t),j(!1)},300))},100)}},disabled:b,children:b?"zh"===w?"抽卡中...":"en"===w?"Drawing...":"Tirage...":"zh"===w?"随机抽卡":"en"===w?"Random Pick":"S\xe9lection al\xe9atoire"})]})]}),(0,r.jsx)("div",{className:"h-24"}),(0,r.jsx)(x.L,{})]})}},4457:function(e,t,a){"use strict";a.d(t,{L:function(){return u}});var r=a(7437),s=a(2265),n=a(1396),i=a.n(n),l=a(4033),o=a(2046),d=a(5355),c=a(6142),h=a(7480);function u(){let e=(0,l.usePathname)(),[t,a]=(0,s.useState)(null),n=[{id:"home",label:"首页",icon:(0,r.jsx)(h.Z,{className:"w-6 h-6"}),href:"/"},{id:"knowledge",label:"知识",icon:(0,r.jsx)(o.Z,{className:"w-6 h-6"}),href:"/knowledge"},{id:"quiz",label:"问答",icon:(0,r.jsx)(d.Z,{className:"w-6 h-6"}),href:"/quiz"},{id:"map",label:"地图",icon:(0,r.jsx)(c.Z,{className:"w-6 h-6"}),href:"/map"}],u=t=>"/"===t?"/"===e:e.startsWith(t);return(0,r.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-xl border-t border-gray-200 shadow-lg z-50 pb-safe",children:(0,r.jsx)("div",{className:"flex items-center justify-around py-2 px-4",children:n.map(e=>{let s=u(e.href),n=t===e.id;return(0,r.jsxs)(i(),{href:e.href,className:"flex flex-col items-center gap-1 py-2 px-4 rounded-2xl transition-all duration-300",onMouseEnter:()=>a(e.id),onMouseLeave:()=>a(null),onTouchStart:()=>a(e.id),onTouchEnd:()=>a(null),children:[(0,r.jsx)("div",{className:"transition-all duration-300 ".concat(s||n?"text-blue-600 scale-125":"text-gray-500"),children:e.icon}),(0,r.jsx)("span",{className:"text-xs font-medium transition-all duration-300 ".concat(s||n?"text-blue-600 opacity-100":"text-gray-500 opacity-0"),children:e.label})]},e.id)})})})}},3378:function(e,t,a){"use strict";a.d(t,{z:function(){return d}});var r=a(7437),s=a(2265),n=a(7256),i=a(6061),l=a(2703);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:d=!1,...c}=e,h=d?n.g7:"button";return(0,r.jsx)(h,{className:(0,l.cn)(o({variant:s,size:i,className:a})),ref:t,...c})});d.displayName="Button"},2703:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var r=a(7042),s=a(4769);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}}},function(e){e.O(0,[304,37,271,433,77,971,596,744],function(){return e(e.s=1799)}),_N_E=e.O()}]);